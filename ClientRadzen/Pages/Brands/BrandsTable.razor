@page "/brandstable"
@using Shared.Models.Brands

<RadzenStack Orientation="Orientation.Vertical">



    <RadzenStack Orientation="Orientation.Horizontal">
        <RadzenButton ButtonStyle="ButtonStyle.Primary" class="mt-2 mb-4" Text="Add New" Click="@AddNewBrand" />
        <RadzenButton ButtonStyle="ButtonStyle.Primary" class="mt-2 mb-4" Text="Edit" Click="@(()=>Edit(selectedRow))" Disabled=@(selectedRow==null) />
        <RadzenButton ButtonStyle="ButtonStyle.Primary" class="mt-2 mb-4" Text="Delete" Click="@(()=>Delete(selectedRow))" Disabled=@(selectedRow==null) />
    </RadzenStack>



    <RadzenDataGrid @ref="grid" AllowFiltering="true" AllowColumnResize="true" AllowAlternatingRows="false" FilterMode="FilterMode.Advanced"
                    AllowGrouping="false" AllowSorting="true" PageSize="50" AllowPaging="true" PagerHorizontalAlign="HorizontalAlign.Left"
                    Density="Density.Default" FilterCaseSensitivity="FilterCaseSensitivity.CaseInsensitive"
                    FilterPopupRenderMode="PopupRenderMode.OnDemand" SelectionMode="DataGridSelectionMode.Single" @bind-Value=@selectedBrands RowClick=OnRowClick
                    Data="@FilteredItems" TItem="BrandResponse" ColumnWidth="300px" LogicalFilterOperator="LogicalFilterOperator.Or" ShowPagingSummary="true">
        <Columns>
            <RadzenDataGridColumn TItem="BrandResponse" Property="@nameof(BrandResponse.Name)" Filterable="false" Title="Name" Frozen="false" Width="100px"
                                  TextAlign="TextAlign.Left" Groupable=false />
            @if (CurrentUser.IsSuperAdmin)
            {
                <RadzenDataGridColumn TItem="BrandResponse" Property="@nameof(BrandResponse.CreatedBy)" Filterable="false" Title="Created By" Frozen="false" Width="100px"
                                      TextAlign="TextAlign.Left" Groupable=false />
                <RadzenDataGridColumn TItem="BrandResponse" Property="@nameof(BrandResponse.CreatedOn)" Filterable="false" Title="Created On" Frozen="false" Width="100px"
                                      TextAlign="TextAlign.Left" Groupable=false />

            }


        </Columns>
    </RadzenDataGrid>
</RadzenStack>
@code {

}
