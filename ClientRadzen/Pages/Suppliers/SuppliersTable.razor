@page "/Supplierstable"
@using Shared.Models.Suppliers

<RadzenStack Orientation="Orientation.Vertical">



    <RadzenStack Orientation="Orientation.Horizontal">
        <RadzenButton ButtonStyle="ButtonStyle.Primary" class="mt-2 mb-4" Text="Add New" Click="@AddNewSupplier" />
        <RadzenButton ButtonStyle="ButtonStyle.Primary" class="mt-2 mb-4" Text="Edit" Click="@(()=>Edit(selectedRow))" Disabled=@(selectedRow==null) />
        <RadzenButton ButtonStyle="ButtonStyle.Primary" class="mt-2 mb-4" Text="Delete" Click="@(()=>Delete(selectedRow))" Disabled=@(selectedRow==null) />
    </RadzenStack>



    <RadzenDataGrid @ref="grid" AllowFiltering="true" AllowColumnResize="true" AllowAlternatingRows="false" FilterMode="FilterMode.Advanced"
                    AllowGrouping="true" AllowSorting="true" PageSize="50" AllowPaging="true" PagerHorizontalAlign="HorizontalAlign.Left"
                    Density="Density.Default" FilterCaseSensitivity="FilterCaseSensitivity.CaseInsensitive"
                    FilterPopupRenderMode="PopupRenderMode.OnDemand" SelectionMode="DataGridSelectionMode.Single" @bind-Value=@selectedSuppliers RowClick=OnRowClick
                    Data="@FilteredItems" TItem="SupplierResponse" ColumnWidth="300px" LogicalFilterOperator="LogicalFilterOperator.Or" ShowPagingSummary="true">
        <Columns>
            <RadzenDataGridColumn TItem="SupplierResponse" Property="@nameof(SupplierResponse.Name)" Filterable="false" Title="Name" Frozen="false" Width="150px"
                                  TextAlign="TextAlign.Left" Groupable=false />
            <RadzenDataGridColumn TItem="SupplierResponse" Property="@nameof(SupplierResponse.VendorCode)" Filterable="false" Title="Vendor" Frozen="false" Width="100px"
                                  TextAlign="TextAlign.Left" Groupable=false />
            <RadzenDataGridColumn TItem="SupplierResponse" Property="@nameof(SupplierResponse.SupplierCurrency)" Filterable="false" Title="Currency" Frozen="false" Width="100px"
                                  TextAlign="TextAlign.Left" Groupable=false />
            <RadzenDataGridColumn TItem="SupplierResponse" Property="@nameof(SupplierResponse.TaxCodeLD)" Filterable="false" Title="Code LD" Frozen="false" Width="100px"
                                  TextAlign="TextAlign.Left" Groupable=false />
            <RadzenDataGridColumn TItem="SupplierResponse" Property="@nameof(SupplierResponse.TaxCodeLP)" Filterable="false" Title="Code LP" Frozen="false" Width="100px"
                                  TextAlign="TextAlign.Left" Groupable=false />
            @if (CurrentUser.IsSuperAdmin)
            {
                <RadzenDataGridColumn TItem="SupplierResponse" Property="@nameof(SupplierResponse.CreatedBy)" Filterable="false" Title="Created By" Frozen="false" Width="100px"
                                      TextAlign="TextAlign.Left" Groupable=false />
                <RadzenDataGridColumn TItem="SupplierResponse" Property="@nameof(SupplierResponse.CreatedOn)" Filterable="false" Title="Created On" Frozen="false" Width="100px"
                                      TextAlign="TextAlign.Left" Groupable=false />

            }


        </Columns>
    </RadzenDataGrid>
</RadzenStack>
@code {

}
